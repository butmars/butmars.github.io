<!DOCTYPE html>
<html lang="nb">
<head>
    <meta charset="UTF-8">
    <title>troom</title>
    <link rel="stylesheet" href="tsyl.css">
</head>
<body>
<main>
    <div class="wrapper">
        <div class="tromme" data-code="KeyA"> <!-- Kommentar: Kobler html-elementet til en knapp ved å bruke data-attributt, se s.126 i Kode2 -->
            <div class="bokstav">A</div>
            <div class="tekst">Boom</div>
        </div>
        <div class="tromme" data-code="KeyS">
            <div class="bokstav">S</div>
            <div class="tekst">Clap</div>
        </div>
        <div class="tromme" data-code="KeyD">
            <div class="bokstav">D</div>
            <div class="tekst">Hihat</div>
        </div>
        <div class="tromme" data-code="KeyF">
            <div class="bokstav">F</div>
            <div class="tekst">Kick</div>
        </div>
        <div class="tromme" data-code="KeyG">
            <div class="bokstav">G</div>
            <div class="tekst">Openhat</div>
        </div>
        <div class="tromme" data-code="KeyH">
            <div class="bokstav">H</div>
            <div class="tekst">Ride</div>
        </div>
        <div class="tromme" data-code="KeyJ">
            <div class="bokstav">J</div>
            <div class="tekst">Snare</div>
        </div>
        <div class="tromme" data-code="KeyK">
            <div class="bokstav">K</div>
            <div class="tekst">Tink</div>
        </div>
        <div class="tromme" data-code="KeyL">
            <div class="bokstav">L</div>
            <div class="tekst">Tom</div>
        </div>
    </div>
</main>
<audio data-code="KeyA" src="lyder/boom.wav"></audio> <!-- Legger inn alle lydene nederst i HTML-elementet slik at de lastes inn når siden lastes inn. -->
<audio data-code="KeyS" src="lyder/clap.wav"></audio> <!-- Kommentar: Kobler html-elementet til en knapp ved å bruke data-attributt, se s.126 i Kode2 -->
<audio data-code="KeyD" src="lyder/hihat.wav"></audio>
<audio data-code="KeyF" src="lyder/kick.wav"></audio>
<audio data-code="KeyG" src="lyder/openhat.wav"></audio>
<audio data-code="KeyH" src="lyder/ride.wav"></audio>
<audio data-code="KeyJ" src="lyder/snare.wav"></audio>
<audio data-code="KeyK" src="lyder/tink.wav"></audio>
<audio data-code="KeyL" src="lyder/tom.wav"></audio>


<script>

    console.log("Skriptet er lastet"); // Skriver til konsollen for å sjekke om linken mellom html-filen og js-filen fungerer

    window.onkeydown = function(event){ // Når brukeren trykker på en tastaturknapp inne i nettleservinduet kjøres en funksjon som sender inn hendelsen som parameter
        const boks = document.querySelector(`div[data-code=${event.code}]`); // Bruker querySelector for å hente ut div-element med attributten data-code=Knapp som er trykket på tastaturet
        const lyd = document.querySelector(`audio[data-code=${event.code}]`);// Bruker querySelector for å hente ut audio-element med attributten data-code=Knapp som er trykket på tastaturet

        if(!boks){ // Hvis variabelen boks er null(false), altså hvis brukeren trykker på en knapp som ikke er koblet til en boks eller lyd:
            return; // hopp ut av funksjonen
        }

        lyd.currentTime = 0; // Start lydavspillingen på nytt
        lyd.play(); // Spill lyden

        boks.classList.add("spiller"); // Legger til klassen spiller på boksen som hører til tastaturknappen som er trykket på, slik at den skifter farge

    }
    window.onkeyup = function(event){ // Funksjon som starter når brukeren slipper en knapp på tastaturet, tastetrykket sendes inn som event
        const boks = document.querySelector(`div[data-code=${event.code}]`); // Bruker querySelector for å hente ut div-elementer med attributten data-code=Knapp som er trykket på tastaturet

        if(!boks){ // Hvis variabelen boks er null(false), altså hvis brukeren trykker på en knapp som ikke er koblet til en boks eller lyd:
            return; // hopp ut av funksjonen
        }

        boks.classList.remove("spiller"); // Fjern klassen spiller fra boksen når brukeren har sluppet tasten på tastaturet
    }
</script> <!-- Lenke til filen script.js hvor javascript-koden står -->
</body>
</html>